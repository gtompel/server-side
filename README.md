# Интерактивная таблица данных

Проект представляет собой веб-приложение с интерактивной таблицей, содержащей миллион записей с расширенными возможностями управления данными.

## Функциональность

- **Постраничная загрузка**: Данные загружаются порциями по 20 записей при прокрутке
- **Выбор элементов**:
  - Индивидуальный выбор строк через чекбоксы
  - Множественный выбор через "Выбрать все"
  - Сохранение выбранных элементов между сессиями
- **Поиск**:
  - Мгновенный поиск по значениям
  - Постраничная загрузка результатов поиска
  - Сохранение порядка сортировки в результатах
- **Drag & Drop сортировка**:
  - Возможность перетаскивания строк
  - Сохранение пользовательского порядка
  - Работает как в обычном режиме, так и при поиске

## Технологический стек

- **Frontend**:
  - React
  - TypeScript
  - Tailwind CSS
  - @hello-pangea/dnd (drag & drop)
  - react-window (виртуализация списка)
  - react-window-infinite-loader (бесконечная прокрутка)
  - Lucide React (иконки)

- **Backend**:
  - Node.js
  - Express
  - In-memory хранение данных

## Запуск проекта

1. Установка зависимостей:

```bash
npm install
```

2. Запуск сервера (в отдельном терминале):

```bash
npm run server
```

3. Запуск клиента:

```bash
npm run dev
```

## API Endpoints

### Данные

- `GET /api/data`
  - Параметры: `page` (номер страницы), `limit` (количество элементов)
  - Возвращает: пагинированный список элементов с учетом сортировки

### Поиск

- `GET /api/search`
  - Параметры: `query` (поисковый запрос), `page`, `limit`
  - Возвращает: отфильтрованные результаты с пагинацией

### Выбранные элементы

- `GET /api/selected` - получение списка выбранных элементов
- `POST /api/selected` - сохранение выбранных элементов

### Порядок сортировки

- `GET /api/sortorder` - получение текущего порядка сортировки
- `POST /api/sortorder` - сохранение нового порядка сортировки

## Структура проекта

```
├── server/
│   └── index.js           # Express сервер
├── src/
│   ├── api/              
│   │   └── dataService.ts # Сервисы для работы с API
│   ├── components/        
│   │   ├── DataTable.tsx  # Основной компонент таблицы
│   │   ├── TableRow.tsx   # Компонент строки
│   │   └── ...           # Другие компоненты
│   ├── context/          
│   │   └── TableContext.tsx # Контекст для управления состоянием
│   └── types/            
│       └── index.ts      # TypeScript типы
└── README.md
```

## Особенности реализации

### Фронтенд

- Виртуализация списка через react-window для оптимальной производительности
- Drag & Drop с помощью @hello-pangea/dnd
- Контекст React для управления глобальным состоянием
- Оптимизированные компоненты с использованием React.memo
- Debounced поиск для уменьшения количества запросов

### Бэкенд

- Express сервер с in-memory хранением данных
- Эффективная фильтрация и сортировка на стороне сервера
- Сохранение состояния между перезагрузками страницы
- Оптимизированная пагинация результатов

### Производительность

- Ленивая загрузка данных
- Виртуализация DOM для больших списков
- Оптимизированные перерендеры компонентов
- Кэширование состояния на сервере

### Пользовательский опыт

- Мгновенная обратная связь при действиях
- Плавные анимации при перетаскивании
- Сохранение состояния между сессиями
- Адаптивный дизайн
- Поддержка клавиатурной навигации
